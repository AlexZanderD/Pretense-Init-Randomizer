üá∑üá∫
# üìù –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: Zone Randomizer

## –í–≤–µ–¥–µ–Ω–∏–µ

Zone Randomizer ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è DCS-–º–∏—Å—Å–∏–π, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç –æ–±–æ—Ä–æ–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –≤ –∑–æ–Ω–∞—Ö. –° –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∏–≥—Ä–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–∞—à–∏–º –º–∏—Å—Å–∏—è–º, –º–µ–Ω—è—è —Å–æ—Å—Ç–∞–≤ –ø—Ä–æ—Ç–∏–≤–æ–≤–æ–∑–¥—É—à–Ω–æ–π –æ–±–æ—Ä–æ–Ω—ã (–ü–í–û), –ø–µ—Ö–æ—Ç—ã –∏ –¥—Ä—É–≥–∏—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞.

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∞–π–ª `init.lua` –≤–∞—à–µ–π –º–∏—Å—Å–∏–∏, –∏—â–µ—Ç –≤ –Ω—ë–º –±–ª–æ–∫–∏ –æ–ø–∏—Å–∞–Ω–∏—è –∑–æ–Ω, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1.  **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –º–∏—Å—Å–∏–∏**: –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –º–∏—Å—Å–∏—è **"Cold War"** (`Config.isColdWar = true`) –∏–ª–∏ **"Modern"** (`Config.isColdWar = false`). –û—Ç —ç—Ç–æ–≥–æ –∑–∞–≤–∏—Å–∏—Ç, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —é–Ω–∏—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏–∏.
2.  **–ê–Ω–∞–ª–∏–∑ –∑–æ–Ω**: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∫–∞–∂–¥—É—é –∑–æ–Ω—É, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é –≤ `init.lua`, –∏ —Å—á–∏—Ç—ã–≤–∞–µ—Ç –µ—ë –∏–º—è.
3.  **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ —é–Ω–∏—Ç–∞**: –ù–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ–Ω–∏ –∑–æ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `palmyra-sam-red`) —Å–∫—Ä–∏–ø—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∞—Å—Å —é–Ω–∏—Ç–∞ (**`sam`**). –≠—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –∏–º–µ–µ—Ç **–Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**. –ï—Å–ª–∏ –≤ –∏–º–µ–Ω–∏ –∑–æ–Ω—ã –Ω–µ—Ç —è–≤–Ω–æ–π –º–µ—Ç–∫–∏ –∫–ª–∞—Å—Å–∞, —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∞—Å—Å–µ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞.
4.  **–†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è**: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π —é–Ω–∏—Ç –∏–∑ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø—É–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–ª–∞—Å—Å—É (**`sam`**), —Å—Ç–æ—Ä–æ–Ω–µ (**`red`**) –∏ —Ä–µ–∂–∏–º—É –º–∏—Å—Å–∏–∏.
5.  **–ó–∞–º–µ–Ω–∞**: –ò—Å—Ö–æ–¥–Ω—ã–π —é–Ω–∏—Ç –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.
6.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Offmap Supply**: –í –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç —Ç–∞–∫–∂–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä–∞ –¥–ª—è `offmap-supply` –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω, –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—è—Å—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞.

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π

1.  **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ —Ñ–∞–π–ª**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à —Ñ–∞–π–ª `init.lua` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ –º–∏—Å—Å–∏–∏.
2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç**: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `randomizer.py` (–∏–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª).
3.  **–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª**: –í –ø–æ—è–≤–∏–≤—à–µ–º—Å—è –æ–∫–Ω–µ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `init.lua` –≤–∞—à–µ–π –º–∏—Å—Å–∏–∏.
4.  **–û–∂–∏–¥–∞–π—Ç–µ**: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –µ–≥–æ.
5.  **–ì–æ—Ç–æ–≤–æ!**: –ü–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã.

---

## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è

–ß—Ç–æ–±—ã —Å–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∑–æ–Ω –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ `init.lua`.

**–§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è**: `[–ò–º—è–ó–æ–Ω—ã]-[–ö–ª–∞—Å—Å–Æ–Ω–∏—Ç–∞]-[–°—Ç–æ—Ä–æ–Ω–∞]`

* `[–ò–º—è–ó–æ–Ω—ã]` ‚Äì –ª—é–±–æ–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, `airfield`, `city`, `palmyra`.
* `[–ö–ª–∞—Å—Å–Æ–Ω–∏—Ç–∞]` ‚Äì –º–µ—Ç–∫–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —Å–∫—Ä–∏–ø—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∞—Å—Å —é–Ω–∏—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω—É –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö:
    * `sam` (–∑–µ–Ω–∏—Ç–Ω–æ-—Ä–∞–∫–µ—Ç–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä SA-2, SA-10, Patriot)
    * `airdef` (—Å–∏—Å—Ç–µ–º—ã –ü–í–û –º–∞–ª–æ–π –∏ —Å—Ä–µ–¥–Ω–µ–π –¥–∞–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä SA-6, SA-9, Roland)
    * `shorad` (–∫–æ–º–ø–ª–µ–∫—Å—ã –±–ª–∏–∂–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è)
    * `aaa` (–∑–µ–Ω–∏—Ç–Ω–∞—è –∞—Ä—Ç–∏–ª–ª–µ—Ä–∏—è)
    * `infantry` –∏–ª–∏ `garrison` (–ø–µ—Ö–æ—Ç–∞)
    * `ewr` (—Ä–∞–¥–∏–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è —Ä–∞–Ω–Ω–µ–≥–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è)
* `[–°—Ç–æ—Ä–æ–Ω–∞]` ‚Äì `red` –∏–ª–∏ `blue`.

**–ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è**:

* `presets.defenses.blue.patriot:extend({ name = 'palmyra-airdef-blue' }),` (–°–∫—Ä–∏–ø—Ç —É–≤–∏–¥–∏—Ç `-airdef-` –∏ –∑–∞–º–µ–Ω–∏—Ç `patriot` –Ω–∞ `roland` –∏–ª–∏ `rapier`).
* `presets.defenses.red.sa10:extend({ name = 'airfield-airdef-red' }),` (–°–∫—Ä–∏–ø—Ç —É–≤–∏–¥–∏—Ç `-airdef-` –∏ –∑–∞–º–µ–Ω–∏—Ç `sa10` –Ω–∞ `sa6`, `sa9` –∏–ª–∏ –¥—Ä—É–≥—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é —Å–∏—Å—Ç–µ–º—É).
* `presets.defenses.blue.hawk:extend({ name = 'coast-sam-blue' }),` (–°–∫—Ä–∏–ø—Ç —É–≤–∏–¥–∏—Ç `-sam-` –∏ –∑–∞–º–µ–Ω–∏—Ç `hawk` –Ω–∞ –¥—Ä—É–≥–æ–π –¥–æ—Å—Ç—É–ø–Ω—ã–π SAM-–∫–æ–º–ø–ª–µ–∫—Å).

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å `DEFAULT_CONFIG`, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã, —Å—Ç–æ—Ä–æ–Ω—ã –∏ —Ä–µ–∂–∏–º—ã Cold War –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —é–Ω–∏—Ç–∞. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —é–Ω–∏—Ç –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é, –≤–∞–º –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Å–ª–æ–≤–∞—Ä—å.

**–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —é–Ω–∏—Ç–∞**:
–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∑–µ–Ω–∏—Ç–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å, –Ω–∞–π–¥–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å –≤ `DEFAULT_CONFIG` –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ —Å–ø–∏—Å–æ–∫ `variants`:

```json
{ 
    "prefix": "sa", 
    "side": "red", 
    "class": "sam", 
    "coldwar": "both", 
    "variants": {
        "red": [
            {"id": "sa2",  "coldwar": "true"},
            {"id": "sa3",  "coldwar": "true"},
            // ...
            {"id": "new_sa", "coldwar": "false"} // <-- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —é–Ω–∏—Ç
        ]
    }
}
```

üá∫üá∏
# üìù Zone Randomizer User Guide

## Introduction

Zone Randomizer is a convenient tool for DCS missions that automatically changes defensive systems within mission zones. This script adds replayability to your missions by randomizing the composition of air defenses (SAM, AAA), infantry, and other static objects without the need for manual file editing.

---

## How It Works

The program analyzes your mission's `init.lua` file, searches for zone definition blocks, and then performs the following steps:

1.  **Mission Mode Detection**: The script checks if the mission is in **"Cold War"** mode (`Config.isColdWar = true`) or **"Modern"** mode (`Config.isColdWar = false`). This setting determines which specific units will be used for randomization.
2.  **Zone Analysis**: The program scans each zone defined in `init.lua` and reads its name.
3.  **Unit Class Determination**: Based on the zone's name (e.g., `palmyra-sam-red`), the script determines the unit's class (**`sam`**). This rule has the **highest priority**. If the zone name does not have a class tag, the script uses the class information from its internal configuration.
4.  **Randomization**: The program selects a random unit from a pre-defined pool that matches the correct class (**`sam`**), side (**`red`**), and mission mode.
5.  **Replacement**: The original unit is replaced with the randomly selected one.
6.  **Offmap Supply Configuration**: The script also randomizes the `offmap-supply` numbers for both sides, following a specific algorithm to maintain balance.

---

## How to Use the Program

1.  **Prepare Your File**: Make sure your `init.lua` file is located in the mission folder.
2.  **Run the Script**: Launch the `randomizer.py` file (or the compiled executable).
3.  **Select Your File**: In the window that appears, select the `init.lua` file for your mission.
4.  **Wait**: The program will automatically process and overwrite the file.
5.  **Done!**: A message will pop up confirming successful completion.

---

## Critical Naming Conventions

For the script to work correctly, it is crucial to use a consistent naming format for zones in your `init.lua` file.

**Naming Format**: `[ZoneName]-[UnitClass]-[Side]`

* `[ZoneName]` ‚Äì Any unique name, for example, `airfield`, `city`, `palmyra`.
* `[UnitClass]` ‚Äì The tag that the script uses to determine the unit's class. Use one of the following:
    * `sam` (Surface-to-air missile systems, e.g., SA-2, SA-10, Patriot)
    * `airdef` (Short- and medium-range air defense systems, e.g., SA-6, SA-9, Roland)
    * `shorad` (Short-range air defense)
    * `aaa` (Anti-aircraft artillery)
    * `infantry` or `garrison` (Infantry)
    * `ewr` (Early warning radar)
* `[Side]` ‚Äì `red` or `blue`.

**Correct Naming Examples**:

* `presets.defenses.blue.patriot:extend({ name = 'palmyra-airdef-blue' }),` (The script will see `-airdef-` and replace `patriot` with `roland` or `rapier`).
* `presets.defenses.red.sa10:extend({ name = 'airfield-airdef-red' }),` (The script will see `-airdef-` and replace `sa10` with `sa6`, `sa9`, or another available system).
* `presets.defenses.blue.hawk:extend({ name = 'coast-sam-blue' }),` (The script will see `-sam-` and replace `hawk` with another available SAM system).

---

## Advanced Customization and Configuration

The program has an internal `DEFAULT_CONFIG` dictionary that defines the classes, sides, and Cold War compatibility for each unit. If you want to add a new unit or change its classification, you will need to edit this dictionary.

**Example of adding a new unit**:
If you want to add a new SAM system, find the corresponding class in `DEFAULT_CONFIG` and add it to the `variants` list:

```json
{ 
    "prefix": "sa", 
    "side": "red", 
    "class": "sam", 
    "coldwar": "both", 
    "variants": {
        "red": [
            {"id": "sa2",  "coldwar": "true"},
            {"id": "sa3",  "coldwar": "true"},
            // ...
            {"id": "new_sa", "coldwar": "false"} // <-- New unit added
        ]
    }
}
```
